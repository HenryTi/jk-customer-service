(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,t,n){e.exports=n(66)},53:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r,a,c,i,o=n(0),s=n(28),u=n(1),l=n.n(u),d=n(15),m=n(2),p=n(3),f=n(5),h=n(4),v=n(6),b=(n(53),n(11)),g="\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/order",w="\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/product",y="\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/common",E="\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/webuser",O="\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/customer",j="\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/customerDiscount",x="\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/promotion",k=n(34),N=n(8),U=n(35),C=(n(41),n(12)),q=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).renderPendingUser=function(e){var t=e.webUser,n=o.createElement(b.d,{name:"chevron-right",className:"chevron-right"});return o.createElement(b.g,{right:n,className:"p-3"},Object(b.q)(t,function(e){return o.createElement("div",{className:"mr-3"},o.createElement("strong",null,e.firstName))}))},n.onUserClick=function(){var e=Object(d.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.controller.openPendingAuditUserDetail(t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.content=Object(C.a)(function(){var e=n.controller.pendingUsers;return o.createElement(b.j,{header:"\u5f85\u5ba1\u6838\u5ba2\u6237"},o.createElement(b.h,{items:e,item:{render:n.renderPendingUser,onClick:n.onUserClick}}))}),n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(d.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return o.createElement(this.content,null)}}]),t}(b.m),A=n(9),P=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).page=function(){return o.createElement(b.j,{header:"\u5ba1\u6838\u4e0d\u901a\u8fc7"},o.createElement("div",null,"gegege"))},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(d.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(b.m),F=[{name:"id",type:"id",required:!1},{name:"customer",type:"string",required:!0},{name:"teacher",type:"string",required:!1},{name:"submit",type:"submit"}],S={items:{id:{visible:!1},customer:{widget:"text",label:"\u5ba2\u6237CID",placeholder:"\u5ba2\u6237CID"},teacher:{widget:"text",label:"\u8001\u5e08CID",placeholder:"\u8001\u5e08CID"},submit:{widget:"button",label:"\u5ba1\u6838\u901a\u8fc7",visible:!1,className:"btn btn-primary"}}},D=(r=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).form=void 0,n.data={},n.pendingOrderList=void 0,Object(k.a)(n,"displayTip",a,Object(N.a)(n)),n.tip=void 0,n.auditPendingUser=Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.form){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.form.buttonClick("submit");case 4:case"end":return e.stop()}},e)})),n.onFormButtonClick=function(){var e=Object(d.a)(l.a.mark(function e(t,r){var a,c,i,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.form.data,c=a.customer,i=a.teacher,n.data.customer=c,n.data.teacher=i,n.displayTip=!1,e.next=7,n.controller.auditPendingUser(a);case 7:o=e.sent,e.t0=o,e.next=1===e.t0?11:2===e.t0?13:4===e.t0?15:17;break;case 11:return n.tip="\u5ba1\u6838\u5931\u8d25\uff0c\u5fc5\u987b\u586b\u5199\u5ba2\u6237CID!",e.abrupt("break",19);case 13:return n.tip="\u5ba1\u6838\u5931\u8d25\uff0c\u4f60\u586b\u5199\u7684\u5ba2\u6237CID\u4e0d\u5b58\u5728!",e.abrupt("break",19);case 15:return n.tip="\u5ba1\u6838\u5931\u8d25\uff0c\u4f60\u586b\u5199\u7684\u8001\u5e08CID\u4e0d\u5b58\u5728!",e.abrupt("break",19);case 17:return n.tip="\u5ba1\u6838\u6210\u529f!",e.abrupt("break",19);case 19:n.displayTip=!0;case 20:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.openAuditRefuse=Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.openVPage(P);case 1:case"end":return e.stop()}},e)})),n.page=Object(C.a)(function(e){var t=n.controller.webUserContact,r=e.id,a=e.firstName,c=(e.lastName,e.gender,e.salutation),i=e.organizationName,s=e.departmentName,u=o.createElement("div",{className:"col-12 text-danger"},"\u8be5\u7528\u6237\u672a\u586b\u5199\u624b\u673a\u53f7\u3001\u7535\u8bdd\u6216Email\u4fe1\u606f");if(t){var l=t.telephone,d=t.mobile,m=t.email;u=o.createElement(o.Fragment,null,o.createElement("div",{className:"col-4 text-muted"},"\u624b\u673a:"),o.createElement("div",{className:"col-8"},o.createElement("a",{href:"tel:".concat(d)},d)),o.createElement("div",{className:"col-4 text-muted"},"\u7535\u8bdd:"),o.createElement("div",{className:"col-8"},o.createElement("a",{href:"tel:".concat(l)},l)),o.createElement("div",{className:"col-4 text-muted"},"Email:"),o.createElement("div",{className:"col-8"},o.createElement("a",{href:"mailto:".concat(m)},m)))}var p=o.createElement(o.Fragment,null);n.displayTip&&(p=o.createElement("div",{className:"text-danger"},o.createElement(b.d,{name:"exclamation-circle",className:"exclamation-circle"})," ",n.tip)),n.data.id=r;var f=o.createElement("div",{className:"justify-content-end"},o.createElement("button",{type:"button",className:"btn btn-primary w-40 mx-3",onClick:n.auditPendingUser},"\u5ba1\u6838\u901a\u8fc7"),o.createElement("button",{type:"button",className:"btn btn-primary w-40 mx-3",onClick:n.openAuditRefuse},"\u5ba1\u6838\u4e0d\u901a\u8fc7"));return o.createElement(b.j,{header:"\u5f85\u5ba1\u6838\u5ba2\u6237\u8be6\u60c5",footer:f},o.createElement("div",{className:"row bg-white p-3"},o.createElement("div",{className:"col-12"},o.createElement("strong",{className:"large"},a)," ",o.createElement("span",{className:"small text-muted"},c)),u,o.createElement("div",{className:"col-4 text-muted"},"\u5355\u4f4d:"),o.createElement("div",{className:"col-8"},i),o.createElement("div",{className:"col-4 text-muted"},"\u90e8\u95e8:"),o.createElement("div",{className:"col-8"},s)),o.createElement("div",{className:"bg-white p-3 mt-1"},"\u672a\u5ba1\u6838\u8ba2\u5355\u5217\u8868"),n.pendingOrderList,o.createElement("div",{className:"bg-white p-3 mt-1"},o.createElement("div",null,"\u5ba1\u6838"),p),o.createElement(b.e,{ref:function(e){return n.form=e},schema:F,uiSchema:S,formData:n.data,className:"bg-white px-3 pb-3",onButtonClick:n.onFormButtonClick}))}),n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(d.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.controller.renderPendingOrders(t.id);case 2:this.pendingOrderList=e.sent,this.openPage(this.page,t);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(b.m),a=Object(U.a)(r.prototype,"displayTip",[A.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r),I=(c=function(e){function t(e,n){var r,a=this;Object(m.a)(this,t),(r=Object(f.a)(this,Object(h.a)(t).call(this,n))).cApp=void 0,r.webUserTuid=void 0,r.webUserContactMap=void 0,r.pendingAuditUserQuery=void 0,r.auditPendingUserAction=void 0,r.auditPendingUserRefuseAction=void 0,r.getCustomerByNoQuery=void 0,Object(k.a)(r,"pendingUsers",i,Object(N.a)(r)),r.webUserContact=void 0,r.renderUserList=function(){return r.renderView(q)},r.tab=function(){return o.createElement(a.renderUserList,null)},r.renderPendingOrders=function(){var e=Object(d.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.cApp.cOrder,e.next=3,n.renderPendingOrder(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r.cApp=e;var c=r.cApp,s=c.cUqWebUser,u=c.cUqCustomer;return r.webUserTuid=s.tuid("webUser"),r.webUserContactMap=s.map("webUserContact"),r.pendingAuditUserQuery=s.query("getpendingaudituser"),r.auditPendingUserAction=s.action("auditPendingUser"),r.auditPendingUserRefuseAction=s.action("auditPendingUserRefuse"),r.getCustomerByNoQuery=u.query("getCustomerByNo"),r}return Object(v.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(d.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pendingAuditUserQuery.table(void 0);case 2:this.pendingUsers=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"openPendingAuditUserDetail",value:function(){var e=Object(d.a)(l.a.mark(function e(t){var n,r,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.webUser,r=n.id,e.next=4,this.webUserTuid.load(r);case 4:return a=e.sent,e.next=7,this.webUserContactMap.obj({webUser:r});case 7:this.webUserContact=e.sent,this.openVPage(D,a);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"auditPendingUser",value:function(){var e=Object(d.a)(l.a.mark(function e(t){var n,r,a,c,i,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=0,r=t.id,a=t.customer,c=t.teacher,!a){e.next=29;break}return e.next=5,this.getCustomerByNoQuery.obj({customerNo:a});case 5:if(!(i=e.sent)){e.next=26;break}if(!c){e.next=19;break}return e.next=10,this.getCustomerByNoQuery.obj({customerNo:c});case 10:if(!(o=e.sent)){e.next=16;break}return e.next=14,this.auditPendingUserAction.submit({id:r,customerId:i.id,teacherId:o.id});case 14:e.next=17;break;case 16:n=4;case 17:e.next=21;break;case 19:return e.next=21,this.auditPendingUserAction.submit({id:r,customerId:i.id});case 21:return e.next=23,this.pendingAuditUserQuery.table(void 0);case 23:this.pendingUsers=e.sent,e.next=27;break;case 26:n=2;case 27:e.next=30;break;case 29:n=1;case 30:return e.abrupt("return",n);case 31:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"auditPendingUserRefuse",value:function(){var e=Object(d.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auditPendingUserRefuseAction.submit({id:t});case 2:return e.next=4,this.pendingAuditUserQuery.table(void 0);case 4:this.pendingUsers=e.sent;case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(b.b),i=Object(U.a)(c.prototype,"pendingUsers",[A.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c),T=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(d.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(e){return o.createElement(o.Fragment,null,"eee")}}]),t}(b.m),W=function(e){function t(e,n){var r,a=this;return Object(m.a)(this,t),(r=Object(f.a)(this,Object(h.a)(t).call(this,n))).cApp=void 0,r.renderMe=function(){return r.renderView(T)},r.tab=function(){return o.createElement(a.renderMe,null)},r.cApp=e,r}return Object(v.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(d.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),t}(b.b),L=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).renderOrder=function(e,t){var r=n.controller.openOrderDetail,a=e.id,c=e.no,i=e.date;e.discription,e.flow;return o.createElement("div",{className:"m-3 justify-content-between cursor-pointer",onClick:function(){return r(a)}},o.createElement("div",null,o.createElement("span",{className:"small text-muted"},"\u8ba2\u5355\u7f16\u53f7: "),o.createElement("strong",null,c)),o.createElement("div",{className:"small text-muted"},o.createElement(b.c,{date:i})))},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(e){return o.createElement(b.h,{items:e,item:{render:this.renderOrder}})}}]),t}(b.n),M="http://www.jkchemical.com/static/Structure/",R="http://www.jkchemical.com/static/Structure/999.png";function Q(e){var t=e.style,n=e.className,r=e.chemicalId;return o.createElement(b.f,{src:r&&M+r.substr(0,3)+"/"+r+".png",style:t,className:n,altImage:R})}function B(e,t){return null===t||void 0===t?null:o.createElement(o.Fragment,null,o.createElement("div",{className:"col-4 col-sm-2 col-lg-4 text-muted pr-0 small"},e),o.createElement("div",{className:"col-8 col-sm-4 col-lg-8"},t))}function V(e){return B("\u54c1\u724c",e.name)}var z=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).packsRow=function(e,t){var n=e.pack,r=e.quantity,a=e.price;e.currency;return o.createElement("div",{key:t,className:"px-2 py-2 border-top"},o.createElement("div",{className:"d-flex align-items-center"},o.createElement("div",{className:"flex-grow-1"},o.createElement("b",null,Object(b.q)(n))),o.createElement("div",{className:"w-12c mr-4 text-right"},o.createElement("span",{className:"text-danger h5"},o.createElement("small",null,"\xa5"),a*r)," \xa0",o.createElement("small",{className:"text-muted"},"(\xa5",a," \xd7 ",r,")"))))},n.renderOrderItem=function(e){var t=e.product,r=e.packs;return o.createElement("div",null,o.createElement("div",{className:"row p-1 my-1"},o.createElement("div",{className:"col-lg-6 pb-3"},function(e,t){var n=e.brand,r=e.description,a=e.descriptionC,c=e.CAS,i=e.purity,s=e.molecularFomula,u=e.molecularWeight,l=e.origin,d=e.imageUrl;return o.createElement("div",{className:"d-block mb-4 px-2"},o.createElement("div",{className:"py-2"},o.createElement("div",null,o.createElement("strong",null,r)),o.createElement("div",null,a)),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-3"},o.createElement(Q,{chemicalId:d,className:"w-100"})),o.createElement("div",{className:"col-9"},o.createElement("div",{className:"row"},B("CAS",c),B("\u7eaf\u5ea6",i),B("\u5206\u5b50\u5f0f",s),B("\u5206\u5b50\u91cf",u),B("\u4ea7\u54c1\u7f16\u53f7",l),Object(b.q)(n,V)))))}(t)),o.createElement("div",{className:"col-lg-6"},r.map(function(e,t){return n.packsRow(e,t)}))))},n.page=function(e){var t=e.brief,r=e.data,a=(t.id,t.no),c=(t.state,t.description,t.date,r.orderItems),i=r.currency,s=r.shippingContact,u=r.invoiceContact,l=r.invoiceType,d=r.invoiceInfo,m=r.amount,p=(r.webUser,o.createElement(o.Fragment,null,"\u8ba2\u5355\u8be6\u60c5: ",a));return o.createElement(b.j,{header:p},o.createElement(b.h,{items:c,item:{render:n.renderOrderItem}}),o.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},o.createElement("div",{className:"col-3 text-muted"},"\u6536\u8d27\u5730\u5740:"),o.createElement("div",{className:"col-9"},Object(b.q)(s))),o.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},o.createElement("div",{className:"col-3 text-muted"},"\u53d1\u7968\u5730\u5740:"),o.createElement("div",{className:"col-9"},Object(b.q)(u))),o.createElement("div",{className:"bg-white row no-gutters p-3 my-1"},o.createElement("div",{className:"col-3 text-muted"},"\u53d1\u7968\u4fe1\u606f:"),o.createElement("div",{className:"col-9"},function(e,t){return o.createElement(o.Fragment,null,Object(b.q)(e,K,void 0,function(){return o.createElement(o.Fragment,null)}),o.createElement("br",null),Object(b.q)(t,J,void 0,function(){return o.createElement(o.Fragment,null)}))}(l,d))),o.createElement("div",{className:"bg-white p-3 my-1 text-right"},o.createElement("span",{className:"text-danger font-weight-bold"},"\u603b\u91d1\u989d: ",m,Object(b.q)(i))))},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(d.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.page,t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(b.m);function K(e){e.id;var t=e.description;return o.createElement(o.Fragment,null,t)}function J(e){e.id;var t=e.title;e.taxNo,e.address,e.telephone,e.bank,e.accountNo;return o.createElement(o.Fragment,null,t)}var $=n(17),G=n.n($),H=function(){function e(t){Object(m.a)(this,e),this.aaa="bbbaa",this.cApp=void 0,this.entities=[],this.schemaLoaded=!1,this.cApp=t,this.initEntities()}return Object(p.a)(e,[{key:"loadSchemas",value:function(){var e=Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==this.schemaLoaded){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all(this.entities);case 4:this.schemaLoaded=!0;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(d.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadSchemas();case 2:return n=this.initData(),e.next=5,this.loadToData(t,n);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),X=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).brandTuid=void 0,n.initEntities(),n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"initEntities",value:function(){var e=this.cApp.cUqProduct;this.brandTuid=e.tuid("brand")}},{key:"loadToData",value:function(){var e=Object(d.a)(l.a.mark(function e(t,n){var r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.brandTuid.load(t);case 2:r=e.sent,n.id=r.id,n.name=r.name;case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"initData",value:function(){return{}}}]),t}(H),Y=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).productTuid=void 0,n.productChemicalMap=void 0,n.initEntities(),n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"initEntities",value:function(){var e=this.cApp.cUqProduct;this.productTuid=e.tuid("productx"),this.productChemicalMap=e.map("productChemical")}},{key:"loadToData",value:function(){var e=Object(d.a)(l.a.mark(function e(t,n){var r,a,c,i,o,s,u,d;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.productTuid.load(t);case 2:return r=e.sent,G.a.merge(n,r),a=new X(this.cApp),e.next=7,a.load(n.brand.id);case 7:return n.brand=e.sent,e.next=10,this.productChemicalMap.obj({product:t});case 10:(c=e.sent)&&(i=c.chemical,o=c.purity,s=c.CAS,u=c.molecularFomula,d=c.molecularWeight,n.chemical=i,n.purity=o,n.CAS=s,n.molecularFomula=u,n.molecularWeight=d),n.packs=[],r.packx.forEach(function(e){n.packs.push(e)});case 14:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"initData",value:function(){return{}}}]),t}(H),Z=function(e){function t(e,n){var r;Object(m.a)(this,t),(r=Object(f.a)(this,Object(h.a)(t).call(this,n))).cApp=void 0,r.pendingAuditOrdersQuery=void 0,r.orderSheet=void 0,r.openOrderDetail=function(){var e=Object(d.a)(l.a.mark(function e(t){var n,a,c,i,o,s,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.orderSheet.getSheet(t);case 2:n=e.sent,a=n.data,c=a.orderitems,i=_(c),o=new Y(r.cApp),s=0;case 8:if(!(s<i.length)){e.next=16;break}return u=i[s].product.id,e.next=12,o.load(u);case 12:i[s].product=e.sent;case 13:s++,e.next=8;break;case 16:a.orderItems=i,r.openVPage(z,n);case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r.cApp=e;var a=e.cUqOrder;return r.orderSheet=a.sheet("order"),r.pendingAuditOrdersQuery=a.query("getPendingPayment"),r}return Object(v.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(d.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"renderPendingOrder",value:function(){var e=Object(d.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pendingAuditOrdersQuery.table({webUser:t});case 2:return n=e.sent,e.abrupt("return",this.renderView(L,n));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(b.b);function _(e){var t=[],n=!0,r=!1,a=void 0;try{for(var c,i=function(){var e=c.value,n=e.product,r=e.pack,a=e.quantity,i=e.price,o=e.currency,s=t.find(function(e){return e.product.id===n.id});void 0===s&&(s={product:n,packs:[]},t.push(s));var u={pack:r,price:i,quantity:a,currency:o&&o.id};s.packs.push(u)},o=e[Symbol.iterator]();!(n=(c=o.next()).done);n=!0)i()}catch(s){r=!0,a=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return t}var ee=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).topKey=void 0,n.currentSalesRegion=void 0,n.currentLanguage=void 0,n.cUqOrder=void 0,n.cUqProduct=void 0,n.cUqCommon=void 0,n.cUqWebUser=void 0,n.cUqCustomer=void 0,n.cUqCustomerDiscount=void 0,n.cUqPromotion=void 0,n.cUqWarehouse=void 0,n.cUqMember=void 0,n.cWebUser=void 0,n.cMe=void 0,n.cOrder=void 0,n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"internalStart",value:function(){var e=Object(d.a)(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.cUqOrder=this.getCUq(g),this.cUqProduct=this.getCUq(w),this.cUqCommon=this.getCUq(y),this.cUqWebUser=this.getCUq(E),this.cUqCustomer=this.getCUq(O),this.cUqCustomerDiscount=this.getCUq(j),this.cUqPromotion=this.getCUq(x),this.cWebUser=new I(this,void 0),this.cMe=new W(this,void 0),this.cOrder=new Z(this,void 0),t=this.cUqCommon.tuid("salesregion"),e.next=13,t.load(1);case 13:return this.currentSalesRegion=e.sent,n=this.cUqCommon.tuid("language"),e.next=17,n.load(197);case 17:return this.currentLanguage=e.sent,this.topKey=b.o.topKey(),e.next=21,this.cWebUser.start();case 21:this.showMain();case 22:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"showMain",value:function(e){this.openVPage(this.VAppMain,e)}}]),t}(b.a),te={content:function(e){return o.createElement(o.Fragment,null," ",e.chineseName," ")}},ne={tuid:{address:{content:function(e){var t=e.country,n=e.province,r=e.city,a=e.county;return o.createElement(o.Fragment,null,Object(b.q)(t),Object(b.q)(n,void 0,void 0,function(){return o.createElement(o.Fragment,null)}),Object(b.q)(r,void 0,void 0,function(){return o.createElement(o.Fragment,null)}),Object(b.q)(a,void 0,void 0,function(){return o.createElement(o.Fragment,null)}))}},country:te,province:te,city:te,county:te,currency:{content:function(e){return o.createElement(o.Fragment,null," ",e.name," ")}}}},re={tuid:{contact:{content:function(e){var t=e.name,n=e.mobile,r=e.organizationName,a=e.address,c=e.addressString;return o.createElement("div",{className:"flex-grow-1"},o.createElement("b",null,t),"\xa0 ",n," \xa0 ",r,o.createElement("br",null),o.createElement("small",null,Object(b.q)(a)," ",c))}},invoiceInfo:{content:function(e){var t=e.title,n=e.taxNo;return o.createElement("div",{className:"flex-grow-1"},o.createElement("b",null,t),"\xa0 ",n)}},invoiceType:{content:function(e){e.id;var t=e.description;return o.createElement("div",{className:"flex-grow-1"},t)}}}};function ae(e,t){return null===t||void 0===t?null:o.createElement(o.Fragment,null,o.createElement("div",{className:"col-4 text-muted pr-0"},e,":"),o.createElement("div",{className:"col-8"},t))}var ce={tuid:{productx:{content:function(e){var t=e,n=t.brand,r=t.description,a=t.CAS,c=t.purity,i=t.molecularFomula,s=t.molecularWeight,u=t.origin,l=t.imageUrl;return o.createElement("div",{className:"row d-flex"},o.createElement("div",{className:"col-12"},o.createElement("div",{className:"row py-2"},o.createElement("div",{className:"col-12"},o.createElement("strong",null,r))),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-3"},o.createElement(Q,{chemicalId:l,className:"w-100"})),o.createElement("div",{className:"col-9"},o.createElement("div",{className:"row"},ae("CAS",a),ae("\u7eaf\u5ea6",c),ae("\u5206\u5b50\u5f0f",i),ae("\u5206\u5b50\u91cf",s),ae("\u4ea7\u54c1\u7f16\u53f7",u),Object(b.q)(n,function(e){return o.createElement(o.Fragment,null,ae("\u54c1\u724c",e.name))}))))))},divs:{packx:{content:function(e){var t=e.radiox,n=e.radioy,r=e.unit;return 1!==t?o.createElement(o.Fragment,null,t," * ",n,r):o.createElement(o.Fragment,null,n,r)}}}}}},ie=function(e){return!0===e?"text-primary":"text-muted"},oe={appName:"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/customer-service",CApp:ee,main:function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).render=function(e){var t=n.controller,r=t.cWebUser,a=t.cMe,c=[{name:"home",label:"\u9996\u9875",icon:"home",content:r.tab,notify:void 0},{name:"me",label:"\u6211\u7684",icon:"user",content:a.tab}].map(function(e){var t=e.name,n=e.label,r=e.icon;return{name:t,caption:function(e){return Object(b.k)(n,r,ie(e))},content:e.content,notify:e.notify}});return o.createElement(b.j,{header:!1},o.createElement(b.l,{tabs:c}))},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"open",value:function(){var e=Object(d.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.openPage(this.render);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(b.m),uqs:{"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/common":ne,"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/product":ce,"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/webUser":{tuid:{webUser:{content:function(e){e.id;var t=e.firstName,n=(e.lastName,e.gender,e.salutation),r=e.organizationName,a=e.departmentName,c=e.telephone,i=e.mobile,s=e.email;return o.createElement(o.Fragment,null,o.createElement("div",{className:"d-flex"},o.createElement("div",{className:"mr-3"},o.createElement("strong",null,t)," ",o.createElement("span",{className:"small"},n)),o.createElement("strong",{className:"mr-3"},i),o.createElement("strong",{className:"mr-3"},c)),o.createElement("div",{className:"small text-muted"},r," \xa0",a," \xa0",s))}}}},"\u767e\u7075\u5a01\u7cfb\u7edf\u5de5\u7a0b\u90e8/customer":re}},se=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).onLogined=Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.p)(oe);case 2:case"end":return e.stop()}},e)})),n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.createElement(b.i,{onLogined:this.onLogined})}}]),t}(o.Component),ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(64),n(65);s.render(o.createElement(se,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");ue?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):le(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):le(t,e)})}}()}},[[47,1,2]]]);
//# sourceMappingURL=main.e284ebd9.chunk.js.map